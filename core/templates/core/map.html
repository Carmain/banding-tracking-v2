{% extends "template.html" %}
{% load staticfiles %}
{% load i18n %}

{% block content %}
  <h2>{% trans "Set a location and a date" %}</h2>

  <div id="map" class="map-form"></div>

  <form method="post" action="{% url 'observations' %}">
    {% csrf_token %}
    <div class="form-group">
      <input type="date" class="form-control mandatory" name="date">
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-xs-4">
          <input type="text" class="form-control mandatory" name="town" placeholder="{% trans 'City' %}">
        </div>
        <div class="col-xs-4">
          <input type="text" class="form-control mandatory" name="departement" placeholder="{% trans 'Department' %}">
        </div>
        <div class="col-xs-4">
          <input type="text" class="form-control mandatory" name="country" placeholder="{% trans 'Country' %}">
        </div>
      </div>
    </div>

    <div class="form-group">
      <input type="text" class="form-control mandatory" name="location" placeholder="{% trans 'Location' %}">
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-xs-6">
          <input type="text" disabled class="form-control" name="coordinate_x" placeholder="{% trans 'X coordinate' %}">
        </div>
        <div class="col-xs-6">
          <input type="text" disabled class="form-control" name="coordinate_y" placeholder="{% trans 'Y coordinate' %}">
        </div>
      </div>
    </div>

    <div class="form-group">
      <button type="submit" class="btn">{% trans 'Submit' %}</button>
    </div>
  </form>
{% endblock %}

{% block extrajs %}
  <script src="{% static 'js/geolocation.js' %}"></script>
  <!-- Google map API -->
  <script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>
{% endblock %}
